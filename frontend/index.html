<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Polymarket Shadow Trader | Analytics Dashboard</title>
    <meta name="description" content="Real-time analytics dashboard for Polymarket copy-trading positions and trades">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div class="app">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="logo">
                    <div class="logo-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 2L2 7l10 5 10-5-10-5z" />
                            <path d="M2 17l10 5 10-5" />
                            <path d="M2 12l10 5 10-5" />
                        </svg>
                    </div>
                    <div class="logo-text">
                        <h1>Shadow Trader</h1>
                        <span class="subtitle">Polymarket Analytics</span>
                    </div>
                </div>
                <div class="header-actions">
                    <div class="last-update">
                        <span class="update-label">Last updated:</span>
                        <span id="lastUpdate" class="update-time">--:--:--</span>
                    </div>
                    <button id="refreshBtn" class="btn-refresh">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M23 4v6h-6" />
                            <path d="M1 20v-6h6" />
                            <path d="M3.51 9a9 9 0 0114.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0020.49 15" />
                        </svg>
                        <span>Refresh</span>
                    </button>
                </div>
            </div>
        </header>

        <!-- Identities -->
        <section class="identity-bar">
            <div class="identity-card trader">
                <span class="identity-label">Trader</span>
                <a id="traderProfile" class="identity-link" href="#" target="_blank">
                    <span id="traderAddressShort">--</span>
                </a>
            </div>
            <div class="identity-card bot">
                <span class="identity-label">Bot</span>
                <a id="botProfile" class="identity-link" href="#" target="_blank">
                    <span id="botAddressShort">--</span>
                </a>
            </div>
        </section>

        <!-- Stats Bar -->
        <section class="stats-bar">
            <div class="stat-card">
                <div class="stat-icon trader-icon">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2" />
                        <circle cx="12" cy="7" r="4" />
                    </svg>
                </div>
                <div class="stat-info">
                    <span class="stat-label">Trader Positions</span>
                    <span id="traderPositionCount" class="stat-value">--</span>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon bot-icon">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="11" width="18" height="10" rx="2" />
                        <circle cx="12" cy="5" r="2" />
                        <path d="M12 7v4" />
                        <line x1="8" y1="16" x2="8" y2="16" />
                        <line x1="16" y1="16" x2="16" y2="16" />
                    </svg>
                </div>
                <div class="stat-info">
                    <span class="stat-label">Bot Positions</span>
                    <span id="botPositionCount" class="stat-value">--</span>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon match-icon">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M22 11.08V12a10 10 0 11-5.93-9.14" />
                        <polyline points="22 4 12 14.01 9 11.01" />
                    </svg>
                </div>
                <div class="stat-info">
                    <span class="stat-label">Match Rate</span>
                    <span id="matchRate" class="stat-value">--%</span>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon pnl-icon">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="12" y1="1" x2="12" y2="23" />
                        <path d="M17 5H9.5a3.5 3.5 0 000 7h5a3.5 3.5 0 010 7H6" />
                    </svg>
                </div>
                <div class="stat-info">
                    <span class="stat-label">Bot Unrealized PnL</span>
                    <span id="botTotalPnl" class="stat-value">$--</span>
                </div>
            </div>
        </section>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Paired Positions (Same markets side by side) -->
            <section class="paired-positions-section">
                <div class="section-header">
                    <h3>
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="16 3 21 3 21 8" />
                            <line x1="4" y1="20" x2="21" y2="3" />
                            <polyline points="21 16 21 21 16 21" />
                            <line x1="15" y1="15" x2="21" y2="21" />
                            <line x1="4" y1="4" x2="9" y2="9" />
                        </svg>
                        <span id="pairedTitle">Paired Positions</span>
                    </h3>
                    <span class="section-subtitle">Same markets — Trader vs Bot comparison</span>
                </div>
                <div id="pairedPositions" class="paired-positions-container">
                    <div class="loading-skeleton"></div>
                </div>
            </section>

            <!-- Activity Feeds -->
            <section class="activity-section">
                <div class="activity-grid">
                    <!-- Trader Activity -->
                    <div class="activity-panel">
                        <div class="activity-header">
                            <h3>
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="22 12 18 12 15 21 9 3 6 12 2 12" />
                                </svg>
                                Trader Activity
                            </h3>
                        </div>
                        <div id="traderActivity" class="activity-feed">
                            <div class="loading-skeleton"></div>
                        </div>
                    </div>

                    <!-- Bot Activity -->
                    <div class="activity-panel">
                        <div class="activity-header">
                            <h3>
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="22 12 18 12 15 21 9 3 6 12 2 12" />
                                </svg>
                                Bot Activity
                            </h3>
                        </div>
                        <div id="botActivity" class="activity-feed">
                            <div class="loading-skeleton"></div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Correlation Analysis -->
            <section class="correlation-section">
                <div class="correlation-header">
                    <h3>
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path
                                d="M21 16V8a2 2 0 00-1-1.73l-7-4a2 2 0 00-2 0l-7 4A2 2 0 003 8v8a2 2 0 001 1.73l7 4a2 2 0 002 0l7-4A2 2 0 0021 16z" />
                            <polyline points="3.27 6.96 12 12.01 20.73 6.96" />
                            <line x1="12" y1="22.08" x2="12" y2="12" />
                        </svg>
                        Summary
                    </h3>
                </div>
                <div id="correlationMetrics" class="correlation-grid">
                    <div class="loading-skeleton"></div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <p>Auto-refresh: <span id="countdown">30</span>s • Data from Polymarket API</p>
        </footer>
    </div>

    <script src="app.js"></script>
</body>

</html>
